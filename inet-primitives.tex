\input{style}
\input{symbols}

% ====================================================
% NETS
% ====================================================

\newcommandx{\inet}[4][1=, 4=16]{
	% 1 = style
	% 2 = name
	% 3 = label
	% 4 = number of ports
	\node[net] [#1] (#2) {#3};
	\foreach \i in {-1, 0,...,#4}
		\coordinate (#2_\i) at ($(#2.south west)!\i/(#4+2)!(#2.south east)$);
}

% ====================================================
% CELLS
% ====================================================

\newcommand{\inetcell}[4][]{
	% 1 = style
	% 2 = node name
	% 3 = node symbol
	% 4 = number of ports
	\node[cell] [#1] (#2) {#3};
	\foreach \i in {0, 1,...,#4}
		\coordinate (#2_\i) at ($(#2.corner 2)!\i/#4!(#2.corner 3)$);
}

\newcommand{\outport}[1]{#1.corner 1}

% ====================================================
% WIRES
% ====================================================

\newcommand{\wire}[4][1=, 4=]{
	% 1 = style
	% 2 = from
	% 3 = to
	% 4 = modulation
	\draw[wire] [#1] (#2) to[#4] (#3);
}

\newcommandx{\wirelabel}[6][1=, 6=]{
	% 1 = style
	% 2 = from
	% 3 = to
	% 4 = label
	% 5 = position (left, right, above, below)
	% 6 = modulation
	\draw[wire] [#1] (#2) to[#6] node[midway, #5] {#4} (#3);
}

\newcommand{\wirepath}[2][]{
	% 1 = style
	% 2 = path
	\draw[wire] [#1] #2;
}

% ====================================================
% BOXES
% ====================================================

\newcommand{\inetbox}[3][]{
	% 1 = style
	% 2 = name
	% 3 = content
	\node[draw,inner xsep=\boxxpadding,inner ysep=\boxypadding,fit=#3] [#1] (#2) {};
}
